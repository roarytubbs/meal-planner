<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Family Meal Planner</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="aurora"></div>
    <main class="layout">
      <header class="hero">
        <p class="eyebrow">Private Family Planner</p>
        <h1>Plan the week. Build store-ready groceries.</h1>
        <p>
          Dinners-first flow with health tags, pantry filtering, and grocery
          list routing for Target, Sprouts, Aldi, and Trader Joe's.
        </p>
      </header>

      <section class="card" aria-labelledby="week-title">
        <div class="card-heading">
          <h2 id="week-title">This Week</h2>
          <div class="heading-actions">
            <label class="inline-control" for="household-servings">
              Household Servings
              <input
                id="household-servings"
                name="household-servings"
                type="number"
                min="1"
                step="1"
                value="4"
              />
            </label>
            <button id="generate-groceries-btn" class="btn btn-accent">
              Generate Groceries
            </button>
          </div>
        </div>
        <div id="week-grid" class="week-grid"></div>
        <div id="week-balance" class="week-balance"></div>
      </section>

      <section class="card" aria-labelledby="recipes-title">
        <h2 id="recipes-title">Recipes</h2>
        <p class="muted">
          Create family staples with tags like <code>15-min</code>,
          <code>high-protein</code>, or <code>leftovers</code>.
        </p>

        <form id="recipe-form" class="recipe-form">
          <div class="field">
            <label for="recipe-title">Recipe Name</label>
            <input id="recipe-title" name="title" required maxlength="80" />
          </div>

          <div class="field">
            <label for="recipe-tags">Tags (comma separated)</label>
            <input
              id="recipe-tags"
              name="tags"
              placeholder="15-min, high-protein, kid-friendly"
            />
          </div>

          <div class="field">
            <label for="recipe-servings">Recipe Servings</label>
            <input
              id="recipe-servings"
              name="servings"
              type="number"
              min="1"
              step="1"
              value="4"
              required
            />
          </div>

          <div class="field">
            <label for="recipe-ingredients">
              Ingredients (one per line: name, qty, unit, optional store)
            </label>
            <textarea
              id="recipe-ingredients"
              name="ingredients"
              rows="6"
              required
              placeholder="Chicken breast, 1.5, lb, Sprouts&#10;Greek yogurt, 32, oz"
            ></textarea>
          </div>

          <button class="btn" type="submit">Add Recipe</button>
        </form>

        <div id="recipe-list" class="recipe-list"></div>
      </section>

      <section class="card" aria-labelledby="catalog-title">
        <h2 id="catalog-title">Ingredient Catalog</h2>
        <p class="muted">
          Set default stores for ingredients so recipes can omit store names.
        </p>
        <form id="catalog-form" class="catalog-form">
          <div class="field">
            <label for="catalog-name">Ingredient Name</label>
            <input id="catalog-name" name="name" placeholder="Greek yogurt" required />
          </div>
          <div class="field">
            <label for="catalog-store">Default Store</label>
            <select id="catalog-store" name="store" required></select>
          </div>
          <button class="btn" type="submit">Save Mapping</button>
        </form>
        <div id="catalog-list" class="catalog-list"></div>
      </section>

      <section class="card" aria-labelledby="pantry-title">
        <h2 id="pantry-title">Pantry Always-On-Hand</h2>
        <p class="muted">
          These ingredients are excluded from generated grocery lists.
        </p>
        <div class="pantry-row">
          <input
            id="pantry-input"
            type="text"
            placeholder="olive oil, salt, black pepper"
          />
          <button id="save-pantry-btn" class="btn" type="button">
            Save Pantry
          </button>
        </div>
      </section>

      <section class="card" aria-labelledby="groceries-title">
        <div class="card-heading">
          <h2 id="groceries-title">Groceries</h2>
          <div class="heading-actions">
            <button id="copy-all-btn" class="btn" type="button">
              Copy All Stores
            </button>
            <button id="copy-selected-btn" class="btn" type="button">
              Copy Selected Stores
            </button>
            <button id="print-checklist-btn" class="btn" type="button">
              Print Checklist
            </button>
          </div>
        </div>
        <p class="muted">
          Store-grouped list with item merging and simple quantity normalization.
        </p>
        <div id="export-store-filters" class="export-store-filters"></div>
        <div id="copy-status" class="copy-status" role="status"></div>
        <div id="grocery-output" class="grocery-output"></div>
      </section>
    </main>

    <script src="app.js"></script>
  </body>
</html>
